---
title: Sui链技术全景
type: post
categories:
  - sui
  - web3
tags:
  - sui
  - web3
---

对Sui来说，“Layer 1”意味着它是一个底层区块链系统，其软件运行在一组独立维护的验证节点上， 而“Layer 2”或更高级别的区块链是对L1区块链的补充。L2往往是构建在L1之上，以增加可扩展性或添加原始软件中不存在的功能。

![img](https://miro.medium.com/v2/resize:fit:1400/0*7c8jesRjied2Sb14)

Sui网络架构图展示了应用程序将交易发送给验证节点并进行验证的过程。

“权益证明（PoS）”的概念更复杂一些，区块链中的验证节点必须就发生的哪些交易是有效的达成一致，这一过程称为共识。当所有服务器只有一个运行时，共识不是问题，但当由许多个独立的服务器运营时，就必须通过一种机制使其在批准交易时达成一致。PoS本质上是这些独立运营的节点他们有权批准交易的证明。

因为运行服务器需要成本，所以Sui上的验证节点运营商也应该为他们所做出的贡献得到相应的奖励。正如区块链行业中的惯例，验证节点运营商可以通过批准Sui的交易获得其原生SUI Token，而所获的份额就是由PoS机制决定的。

您也可以将Sui理解为类似于Linux、Windows和macOS这样的操作系统，构建者可以在这些操作系统上运行编写的应用程序。在Sui上，构建者使用一种名字为Move的相对较新的编程语言。通俗的讲，Sui使用了一种Sui Move的编程语言，区别于其他区块链通用的编程语言Rust和Solidity。

## Object

您可能听说过非同质化Token（NFT），它通常与独特的图像文件或数字艺术形式有关。在大多数区块链上，当您获得NFT时，实际上是获得了一个凭证来验证您的所有权和钱包地址，类似于您用网站的URL指向实际的图像文件过程。Sui也有NFT产品，它们是存储在链上含义更广泛的数据object，包括数字领域中的任何东西，如图片、签名或文档等。

Sui使用共享object和独享object的概念，使交易处理更高效。在Sui上，如果某人单独拥有一个object，他可以直接将其赠与另一个人，这个非常简单的交易占用很少的网络资源。

![img](https://miro.medium.com/v2/resize:fit:1400/0*Ki_4mJtZHPLpeKFF)

Sui Capys是一款在Sui Devnet上发布的游戏，每个Capy作为一个object存在于Sui网络上。

一个共享object可能属于多个地址，涉及共享object的交易必须由验证节点批准，这个过程将占用大量资源。在大多数区块链上，所有object都是共享的，因此每笔交易都必须经过这个批准过程，而Sui上的许多交易都只涉及简单的一对一交换，不需要批准过程，从而降低了成本。

从专业的角度来看，每个Sui的object必须具有以下字段：

- 唯一ID：类似于以太坊上的哈希或合约ID
- 版本号：从1开始的交易次数
- 交易摘要：显示包含该object作为输出的最后一笔交易信息
- 所有者字段：显示所有者信息，例如账户地址、另一个object、不可变的或共享object

当然，构建者也可以通过使用其他字段来自定义object，Sui允许用户在object设计中发挥自己的创造力。

举个当下大家比较关注的例子，构建者可以创建一个由object组成的游戏。例如，在赛车游戏中，玩家的汽车就是一个object，玩家将在Sui中拥有该object。游戏中的汽车可以改装，如外观改造、更换轮胎、更换增压器或其他升级改造，使汽车更具竞争力。在这些升级中，每次调整的都是一个单独的object，当玩家获得汽车时，对应着这些objects将在Sui中归汽车的所有者所属。

## 共识

上面提到了共享object和独享object，接下来将深入介绍Sui是如何使用这两种不同类型的objects处理交易。通常，我们使用达成共识来形容验证节点成功验证交易这个过程。Sui只需要对共享object达成共识，而不需要对涉及独享object的普通交易达成共识。

独享object不包含在传统区块链的“区块”中，他们使用简化算法直接与Sui上的验证节点交互。鉴于这种模式特点，独享object的交易几乎是瞬间发生的。这些简单的交易可能是一名玩家在赛车游戏中向另一名玩家赠送汽车、某人向社交网络发布消息，或是在投票中提交投票。

![img](https://miro.medium.com/v2/resize:fit:1400/0*FGw0QZR8tAdCFzdr)

Sui新颖的共识机制不仅可以执行简单的交易，也可以执行复杂的交易，前者需要的资源更少，处理速度非常快。

从专业的角度来看，Sui进行这些独享object的交易过程如下：

1. 发布者向所有Sui上验证节点广播交易需求
2. Sui上每个验证节点都可以对该交易进行投票，基于验证节点质押的权重，得到相应的投票份额
3. 发布者将解决[拜占庭将军问题](https://en.wikipedia.org/wiki/Byzantine_fault?ref=blog.suifoundation.org)的多数选票收集到证明，并将其广播给所有Sui验证节点。此次交易的操作，将记录在Sui上并确保交易不会被删除或撤销

而共享object则遵循更复杂的机制，如以下步骤所述：

1. 发布者向所有Sui上验证节点广播交易需求
2. Sui上每个验证节点都可以对该交易进行投票，基于验证节点质押的权重，得到相应的投票份额
3. 发布者将解决[拜占庭将军问题](https://en.wikipedia.org/wiki/Byzantine_fault?ref=blog.suifoundation.org)的多数选票收集到链上，并将其广播给所有Sui验证节点。与此同时，证明将通过拜占庭协议进行排队，验证节点必须在该过程中达成共识
4. 一旦交易排队成功，发布者将证明广播给验证节点以结算交易

如上所述，独享object的交易不需要共识即可立即处理， 而共享object交易则必须经过共识。如果Sui使用共享object同时处理许多交易，则每个共识必须按顺序进行，这可能会使每个交易延迟。大多数其他区块链只允许后一种交易类型，并且无法绕过共识。

## 水平扩展

与传统的区块链相比，Sui的分布式计算模型更像是传统的云服务。许多区块链使用经济学模型来控制服务器负载：随着负载的增加，Gas费用也会增加。 因为用户会为交易过程支付费用，所以较高的Gas费会使交易量减少。

随着Sui上负载的增加，验证节点可以简单地增加更多的处理能力，类似于Amazon Web Services在客户端流量增加时可以添加更多服务器的方式。Sui鼓励验证节点增加容量，因此他们可以赚取更「多」笔的Gas费（而不是单笔更「高昂」的Gas费）。

这种模式使Sui在大力支持用户流量增加的同时，还保持平稳的Gas费用，这就允许更多用户加入进来。

以这种方式增加网络容量，可确保如游戏的快速运行、生产类应用程序的及时响应，以及社交文章的全球发布等用例。构建者可以根据订阅模式设置Gas费，不会因为持续上涨的Gas价格导致成本持续提升，网络基础设施也能够在验证节点的Gas竞争或服务器故障中得以生存并发展。

## Sui Move

如上所述，[Sui Move](https://docs.sui.io/learn/sui-move-diffs?ref=blog.suifoundation.org)是Sui的原生编程语言，其核心是于2018年创建的专用于区块链[智能合约](https://en.wikipedia.org/wiki/Smart_contract?ref=blog.suifoundation.org)编程的Move语言。Move的创建者看到了用户对资产和访问控制的高级抽象化的需求，这在以前的区块链编程语言中是不存在的。因为去中心化将资产和访问控制置于网络上大多数活动的中心，这些概念对区块链很有意义。

然而，随着Sui的创始团队开始开发这个新的区块链，他们认为有必要进一步完善Move。尽管Move专为区块链上的智能合约编程而设计，但它仍然缺乏对账户、交易、时间和密码学等区块链特定概念的原生支持。区块链需要构建对这些功能的支持，这不仅耗时，而且会导致安全等关键功能的实施不一致。

Sui Move旨在整合区块链开发人员，创建高性能、安全、功能丰富的应用程序所需的一切生态。
